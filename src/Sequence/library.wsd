@startuml adding novel to library
header Diagramme de Séquence - Bibliothèque & Abonnements (Ajout)
actor "Reader/Author" as R
participant "UI : Interface" as UI
participant "lib : Library" as L
participant "novel : Novel" as N
database "Database" as DB

note right of R
  Un Author est aussi un Reader,
  donc peut gérer une bibliothèque
  de lecture personnelle
end note

R -> UI : click "Add to Library"
UI -> L : addNovel(novelId)
activate L
L -> N : getDetails()
activate N
N --> L : title, author, status
deactivate N
L -> L : checkDuplicate()
L -> DB : saveRelation(readerId, novelId)
activate DB
DB --> L : success
deactivate DB
L --> UI : confirmation
deactivate L
UI --> R : show "Added to Library"
@enduml
