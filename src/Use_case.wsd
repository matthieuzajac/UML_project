@startuml usecase
left to right direction
skinparam packageStyle rectangle
skinparam linetype ortho
skinparam shadowing false

actor "Guest" as G
actor "Authenticated User" as AU
actor "Reader" as R
actor "Author" as A
actor "Moderator" as M

' Héritage des acteurs : Author hérite de Reader
' Un Author est un Reader (peut lire, reviewer, etc.) mais un Reader n'est pas toujours un Author
AU <|-- R
R <|-- A
AU <|-- M

rectangle "Webnovel System (Royal Road Clone)" as System {
    package "Guest Access" as GuestPkg {
        (Explore Catalog) as UC_Explore
        (Search Novel) as UC1
        (Browse by Genre/Tag) as UC14
        (Read Public Chapter) as UC2
        (Register Account) as UC15
    }

    package "Authenticated User" as AuthPkg {
        (Account & Security) as UC_Account
        (Login) as UC_Login
        (Logout) as UC_Logout
        (Manage Profile) as UC3
        (Reset Password) as UC16
        (Receive Notifications) as UC4
        (Report Content) as UC13
    }

    package "Reader Features" as ReaderPkg {
        (Library & Subscriptions) as UC_Library
        (Manage Library) as UC6
        (Subscribe to Novel) as UC7
        (Track Reading Progress) as UC18
        (Review Interactions) as UC_Reviews
        (Post Review/Rating) as UC5
        (Mark Review as Helpful) as UC17
    }

    package "Author Features" as AuthorPkg {
        (Manage Novel) as UC_ManageNovel
        (Create/Edit Novel) as UC8
        (Add Tags/Genres) as UC20
        (Manage Novel Status) as UC19
        (Publish Chapter) as UC9
        (View Analytics) as UC10
    }

    package "Moderator Tools" as ModPkg {
        (Platform Moderation) as UC_Moderate
        (Moderate Content) as UC22
        (Delete Review) as UC11
        (Ban User) as UC12
        (Shadowban User) as UC23
        (Review Reports) as UC21
    }

    GuestPkg -[hidden]-> AuthPkg
    AuthPkg -[hidden]-> ReaderPkg
    ReaderPkg -[hidden]-> AuthorPkg
    AuthorPkg -[hidden]-> ModPkg

    ' Relations Inclusion/Extension
    UC_Explore ..> UC1 : <<include>>
    UC_Explore ..> UC14 : <<include>>

    UC_Account ..> UC_Login : <<include>>
    UC_Account ..> UC_Logout : <<include>>
    UC_Account ..> UC3 : <<include>>
    UC_Account ..> UC16 : <<include>>

    UC_Library ..> UC6 : <<include>>
    UC_Library ..> UC7 : <<include>>
    UC_Library ..> UC18 : <<include>>

    UC_Reviews ..> UC5 : <<include>>
    UC_Reviews ..> UC17 : <<include>>

    UC_ManageNovel ..> UC8 : <<include>>
    UC_ManageNovel ..> UC19 : <<include>>
    UC_ManageNovel ..> UC20 : <<include>>

    UC_Moderate ..> UC22 : <<include>>
    UC_Moderate ..> UC11 : <<include>>
    UC_Moderate ..> UC12 : <<include>>
    UC_Moderate ..> UC23 : <<include>>
    UC_Moderate ..> UC21 : <<include>>

    UC2 <.. UC13 : <<extend>>
    UC5 <.. UC13 : <<extend>>
}

' Liaisons Acteurs -> Cas d'utilisation
G --> UC_Explore
G --> UC2
G --> UC15

AU --> UC_Account
AU --> UC4
AU --> UC13

R --> UC_Library
R --> UC_Reviews

A --> UC_ManageNovel
A --> UC9
A --> UC10

M --> UC_Moderate

@enduml
